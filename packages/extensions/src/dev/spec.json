{
  "id": "dev",
  "name": "Dev.to",
  "description": "Automatically publish and update articles from the specified content group to Dev.to",
  "permissions": ["api:read", "webhooks"],
  "lifecycle": {
    "on:install": "install",
    "on:uninstall": "uninstall",
    "on:reconfigure": "configure",
    "on:initConfigurationView": "initConfigurationView",
    "on:initContentPieceView": "initContentPieceView"
  },
  "configurationView": [
    {
      "component": "Field[type=text]",
      "props": {
        "label": "API key",
        "placeholder": "API key",
        "bind:value": "config.apiKey"
      },
      "slot:": "Your Dev.to API key. You can generate one in the [settings page](https://dev.to/settings/extensions), under **DEV Community API Keys** section"
    },
    {
      "component": "Field[type=select]",
      "props": {
        "label": "Content group",
        "bind:options": "temp.lockedContentGroups",
        "bind:value": "config.contentGroupId"
      },
      "slot:": "Select a content group to enable the extension for. The group will be used to detect new, updated and removed posts"
    },
    {
      "component": "Field[type=text]",
      "props": {
        "label": "Organization ID",
        "optional": true,
        "bind:value": "config.organizationId"
      },
      "slot:": "ID of the Dev.to organization you are in and want to publish your posts to. You can find the organization ID in the URL of the your [Dev.to Dashboard](https://dev.to/dashboard), when **filtering posts by organization**"
    },
    {
      "component": "Field[type=checkbox]",
      "props": {
        "label": "Auto publish",
        "bind:value": "config.autoPublish"
      },
      "slot:": "Publish posts automatically"
    },
    {
      "component": "Field[type=checkbox]",
      "props": {
        "label": "Require canonical link",
        "bind:value": "config.requireCanonicalLink"
      },
      "slot:": "Don't auto-publish when no canonical link is set"
    }
  ],
  "contentPieceView": [
    {
      "component": "Field[type=text]",
      "props": {
        "label": "Series name",
        "options": { "optional": true, "placeholder": "Series name" },
        "bind:value": "data.seriesName"
      },
      "slot:": "The exact name of the series to which this post should be added"
    },
    {
      "component": "Field[type=checkbox]",
      "props": {
        "label": "Draft",
        "bind:value": "data.draft",
        "bind:disabled": "contentPiece.locked"
      },
      "slot:": "whether the Dev.to article should be in draft (private)"
    },
    {
      "component": "Button[color=primary].w-full.justify-center.items-center",
      "props": {
        "bind:disabled": "temp.buttonDisabled",
        "on:click": "publish"
      },
      "slot:": {
        "component": "Show",
        "props": { "bind:value": "temp.$loading" },
        "slot:true": { "component": "Loader" },
        "slot:false": {
          "component": "Text",
          "props": { "bind:value": "temp.buttonLabel" }
        }
      }
    }
  ]
}
